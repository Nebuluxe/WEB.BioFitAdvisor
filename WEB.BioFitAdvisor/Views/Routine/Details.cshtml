@using System.Collections.Generic
@using API.BioFitAdvisor.Domain
@model API.BioFitAdvisor.Domain.Routine

@{
    ViewData["Title"] = "Detalles de Rutina";
}

<h4 class="header-view">@ViewData["Title"]</h4>

<div class="container-section">
    <h2>@Model.Name</h2>
    <p><strong>Descripción:</strong> @Model.Description</p>
    <p><strong>Fecha de inicio:</strong> @Model.StartDate.ToString("yyyy-MM-dd")</p>
    <p><strong>Fecha de finalización:</strong> @Model.EndDate.ToString("yyyy-MM-dd")</p>
    <p><strong>Estado:</strong> @(Model.Status ? "Activo" : "Inactivo")</p>

    <h3>Plan de Suplementos</h3>
    @if (Model.SupplementPlans.Count > 0)
    {
        <table class="table">
            <thead>
                <tr>
                    <th>Nombre del Suplemento</th>
                    <th>Descripción</th>
                    <th>Dosis</th>
                    <th>Frecuencia</th>
                    <th>Fecha de inicio</th>
                    <th>Fecha de finalización</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var plan in Model.SupplementPlans)
                {
                    <tr>
                        <td>@plan.SupplementName</td>
                        <td>@plan.Description</td>
                        <td>@plan.Dosage</td>
                        <td>@plan.Frequency</td>
                        <td>@plan.StartDate.ToString("yyyy-MM-dd")</td>
                        <td>@plan.EndDate.ToString("yyyy-MM-dd")</td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p>No hay planes de suplementos asignados.</p>
    }

    <h3>Entrenamientos</h3>
    @if (Model.Exercises.Count > 0)
    {
        <table class="table">
            <thead>
                <tr>
                    <th>Nombre del Ejercicio</th>
                    <th>Descripción</th>
                    <th>Fecha de inicio</th>
                    <th>Fecha de finalización</th>
                    <th>Duración (min)</th>
                    <th>Frecuencia</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var exercise in Model.Exercises)
                {
                    <tr>
                        <td>@exercise.WorkoutName</td>
                        <td>@exercise.Description</td>
                        <td>@exercise.StartDate.ToString("yyyy-MM-dd")</td>
                        <td>@exercise.EndDate.ToString("yyyy-MM-dd")</td>
                        <td>@exercise.DurationMinutes</td>
                        <td>@exercise.Frequency</td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p>No hay ejercicios asignados.</p>
    }

    <h3>Dieta</h3>
    @if (Model.Diets.Count > 0)
    {
        <table class="table">
            <thead>
                <tr>
                    <th>Nombre de la Dieta</th>
                    <th>Descripción</th>
                    <th>Calorías Diarias</th>
                    <th>Objetivos</th>
                    <th>Fecha de inicio</th>
                    <th>Fecha de finalización</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var diet in Model.Diets)
                {
                    <tr>
                        <td>@diet.DietName</td>
                        <td>@diet.Description</td>
                        <td>@diet.DailyCalories</td>
                        <td>@diet.Goals</td>
                        <td>@diet.StartDate.ToString("yyyy-MM-dd")</td>
                        <td>@diet.EndDate.ToString("yyyy-MM-dd")</td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p>No hay dietas asignadas.</p>
    }

    <a asp-action="CreateOrEdit" asp-route-id="@Model.RoutineId" class="btn btn-primary">Editar</a>
    <a asp-action="Index" class="btn btn-secondary">Volver al listado</a>
</div>